<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Категорія 1: Найбільш нетипові</title>
    <link rel="stylesheet" href="../css/style.css">
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Категорія 1: Найбільш нетипові</h1>
      </header>
      <main>
        <p>Будь ласка, оберіть <strong>5 найбільш нетипових</strong> упаковок з нижченаведеного списку. </p>
        <form id="category1-n-Form" class="image-selection-form" netlify>
          <label for="img-1-1n">
            <input type="checkbox" id="img-1-1n" name="image" value="img-1-1n">
            <img src="../img/1-1.jpg" alt="">
          </label>
          <label for="img-1-2n">
            <input type="checkbox" id="img-1-2n" name="image" value="img-1-2n">
            <img src="../img/1-2.jpg" alt="">
          </label>
          <label for="img-1-3n">
            <input type="checkbox" id="img-1-3n" name="image" value="img-1-3n">
            <img src="../img/1-3.jpg" alt="">
          </label>
          <label for="img-1-4n">
            <input type="checkbox" id="img-1-4n" name="image" value="img-1-4n">
            <img src="../img/1-4.jpg" alt="">
          </label>
          <label for="img-1-5n">
            <input type="checkbox" id="img-1-5n" name="image" value="img-1-5n">
            <img src="../img/1-5.jpg" alt="">
          </label>
          <label for="img-1-6n">
            <input type="checkbox" id="img-1-6n" name="image" value="img-1-6n">
            <img src="../img/1-6.jpg" alt="">
          </label>
          <label for="img-1-7n">
            <input type="checkbox" id="img-1-7n" name="image" value="img-1-7n">
            <img src="../img/1-7.jpg" alt="">
          </label>
          <label for="img-1-8n">
            <input type="checkbox" id="img-1-8n" name="image" value="img-1-8n">
            <img src="../img/1-8.jpg" alt="">
          </label>
          <label for="img-1-9n">
            <input type="checkbox" id="img-1-9n" name="image" value="img-1-9n">
            <img src="../img/1-9.jpg" alt="">
          </label>
          <label for="img-1-10n">
            <input type="checkbox" id="img-1-10n" name="image" value="img-1-10n">
            <img src="../img/1-10.jpg" alt="">
          </label>
          <label for="img-1-11n">
            <input type="checkbox" id="img-1-11n" name="image" value="img-1-11n">
            <img src="../img/1-11.jpg" alt="">
          </label>
          <label for="img-1-12n">
            <input type="checkbox" id="img-1-12n" name="image" value="img-1-12n">
            <img src="../img/1-12.jpg" alt="">
          </label>
          <label for="img-1-13n">
            <input type="checkbox" id="img-1-13n" name="image" value="img-1-13n">
            <img src="../img/1-13.jpg" alt="">
          </label>
          <label for="img-1-14n">
            <input type="checkbox" id="img-1-14n" name="image" value="img-1-14n">
            <img src="../img/1-14.jpg" alt="">
          </label>
          <label for="img-1-15n">
            <input type="checkbox" id="img-1-15n" name="image" value="img-1-15n">
            <img src="../img/1-15.jpg" alt="">
          </label>
          <label for="img-1-16n">
            <input type="checkbox" id="img-1-16n" name="image" value="img-1-16n">
            <img src="../img/1-16.jpg" alt="">
          </label>
          <label for="img-1-17n">
            <input type="checkbox" id="img-1-17n" name="image" value="img-1-17n">
            <img src="../img/1-17.jpg" alt="">
          </label>
          <label for="img-1-18n">
            <input type="checkbox" id="img-1-18n" name="image" value="img-1-18n">
            <img src="../img/1-18.jpg" alt="">
          </label>
          <label for="img-1-19n">
            <input type="checkbox" id="img-1-19n" name="image" value="img-1-19n">
            <img src="../img/1-19.jpg" alt="">
          </label>
          <label for="img-1-20n">
            <input type="checkbox" id="img-1-20n" name="image" value="img-1-20n">
            <img src="../img/1-20.jpg" alt="">
          </label>
          <label for="img-1-21n">
            <input type="checkbox" id="img-1-21n" name="image" value="img-1-21n">
            <img src="../img/1-21.jpg" alt="">
          </label>
          <label for="img-1-22n">
            <input type="checkbox" id="img-1-22n" name="image" value="img-1-22n">
            <img src="../img/1-22.jpg" alt="">
          </label>
          <label for="img-1-23n">
            <input type="checkbox" id="img-1-23n" name="image" value="img-1-23n">
            <img src="../img/1-23.jpg" alt="">
          </label>
        </form>
        <div class="button-group">
          <button type="button" class="btn back-btn">Повернутися назад</button>
          <button type="button" class="btn submit-btn" disabled>Продовжити <span class="tooltip">
              <span class="tooltiptext">Будь ласка, оберіть 5 варіантів</span>
            </span>
          </button>
        </div>
      </main>
      <footer></footer>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('category1-n-Form');
        const submitButton = document.querySelector('.submit-btn');
        const backButton = document.querySelector('.back-btn');
        const checkboxes = form.querySelectorAll('input[type="checkbox"]');
        // Відновлення стану чекбоксів з localStorage
        const savedSelection = JSON.parse(localStorage.getItem('category1-n-Selection')) || [];
        checkboxes.forEach(checkbox => {
          if (savedSelection.includes(checkbox.value)) {
            checkbox.checked = true;
          }
        });
        // Оновлення стану кнопки "далі"
        function updateButtonStatus() {
          const checkedCheckboxes = Array.from(checkboxes).filter(cb => cb.checked);
          submitButton.disabled = checkedCheckboxes.length !== 5;
        }
        checkboxes.forEach(checkbox => {
          checkbox.addEventListener('change', function() {
            if (Array.from(checkboxes).filter(cb => cb.checked).length > 5) {
              alert('Ви не можете обрати більше 5 зображень.');
              checkbox.checked = false;
            }
            updateButtonStatus();
          });
        });
        submitButton.addEventListener('click', function() {
          const selectedImages = Array.from(checkboxes).filter(cb => cb.checked).map(cb => cb.value);
          localStorage.setItem('category1-n-Selection', JSON.stringify(selectedImages));
          window.location.href = 'category2.html'; // Перевірте, що шлях вказано правильно
        });
        backButton.addEventListener('click', function() {
          window.history.back(); // Перевірте, що ця дія працює як очікувалося
        });
        // Ініціалізація стану кнопки при завантаженні сторінки
        updateButtonStatus();
      });
    </script>
  </body>
</html>